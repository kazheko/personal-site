@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url("/fonts/Inter-400.woff2") format("woff2");
  }

  @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    src: url("/fonts/Inter-500.woff2") format("woff2");
  }

  @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 600;
    font-display: swap;
    src: url("/fonts/Inter-600.woff2") format("woff2");
  }

  @font-face {
    font-family: "Inter";
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    src: url("/fonts/Inter-700.woff2") format("woff2");
  }

  @font-face {
    font-family: "JetBrains Mono";
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url("/fonts/JetBrainsMono-400.woff2") format("woff2");
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-brand-surface-base text-brand-text-primary font-sans text-[16px] leading-[1.65] font-normal antialiased;
    text-rendering: optimizeLegibility;
  }

  @screen md {
    body {
      @apply leading-[1.7];
    }
  }

  a {
    @apply font-medium text-brand-accent-primary transition-colors duration-200;
  }

  a:hover,
  a:focus-visible {
    @apply text-brand-accent-hover underline underline-offset-2 decoration-brand-accent-hover;
  }

  p {
    @apply mb-[1.2em] leading-[1.65];
  }

  @screen md {
    p {
      @apply leading-[1.7];
    }
  }

  h1 {
    @apply mt-10 mb-4 text-[28px] leading-[1.2] font-bold text-brand-text-heading;
  }

  h2 {
    @apply mt-9 mb-3 text-[24px] leading-[1.25] font-bold text-brand-text-heading;
  }

  h3 {
    @apply mt-8 mb-3 text-[20px] leading-[1.3] font-semibold text-brand-text-heading;
  }

  h4 {
    @apply mt-6 mb-2 text-[18px] leading-[1.4] font-semibold text-brand-text-heading;
  }

  @screen md {
    h1 {
      @apply text-[32px];
    }

    h2 {
      @apply text-[26px];
    }

    h3 {
      @apply text-[21px];
    }
  }

  @screen lg {
    h1 {
      @apply text-[36px];
    }

    h2 {
      @apply text-[28px];
    }

    h3 {
      @apply text-[22px];
    }
  }

  code {
    @apply font-mono text-[13px] leading-[1.55];
  }

  pre {
    @apply font-mono text-[13px] leading-[1.55] overflow-x-auto;
  }

  @screen md {
    code,
    pre {
      @apply text-[14px];
    }
  }
}

@layer components {
  .skip-link {
    @apply sr-only focus:not-sr-only fixed top-3 left-3 z-50 rounded border border-brand-border-base bg-brand-surface-secondary px-4 py-2 text-sm font-medium text-brand-text-heading shadow-lg;
  }

  .about-body .about-label {
    @apply mb-0 text-xs font-semibold uppercase tracking-widest text-brand-text-muted;
  }

  .about-body .about-label + h2 {
    @apply mt-0;
  }

  .post-shell {
        @apply mx-auto w-full max-w-4xl px-4;
  }

  .post-shell__header {
    @apply space-y-4;
  }

  .post-shell__eyebrow {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-text-muted;
  }

  .post-shell__title {
    @apply text-[28px] font-bold leading-[1.2] tracking-tight text-brand-text-heading mt-0;
  }

  @screen md {
    .post-shell__title {
      @apply text-[32px];
    }
  }

  @screen lg {
    .post-shell__title {
      @apply text-[36px];
    }
  }

  .post-meta {
    @apply mt-6 border-b border-brand-border-base pb-6;
  }

  .post-meta__inner {
    @apply flex flex-col gap-4 text-[14px] font-medium leading-[1.4] text-brand-text-muted sm:flex-row sm:items-center sm:justify-between;
  }

  .post-meta__chips {
    @apply flex flex-wrap items-center gap-2;
  }

  .post-meta-chip {
    @apply inline-flex min-h-[44px] items-center gap-2 rounded-full border border-brand-border-base bg-brand-accent-soft px-3 py-1 text-[14px] font-medium leading-[1.4] text-brand-accent-primary no-underline transition-colors duration-150 hover:border-brand-accent-primary hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .post-meta-chip--untagged {
    @apply border-dashed border-brand-border-base text-brand-text-muted;
  }

  .post-meta__date {
    @apply flex items-center gap-2 text-[14px] leading-[1.4] text-brand-text-muted;
  }

  .prose {
    @apply max-w-none text-brand-text-primary;
  }

  .prose p {
    @apply mb-[1.2em] text-[16px] leading-[1.65];
  }

  .prose h1 {
    @apply mt-10 mb-4 text-[28px] leading-[1.2] font-bold text-brand-text-heading;
  }

  .prose h2 {
    @apply mt-9 mb-3 text-[24px] leading-[1.25] font-bold text-brand-text-heading;
  }

  .prose h3 {
    @apply mt-8 mb-3 text-[20px] leading-[1.3] font-semibold text-brand-text-heading;
  }

  .prose h4 {
    @apply mt-6 mb-2 text-[18px] leading-[1.4] font-semibold text-brand-text-heading;
  }

  .prose code {
    @apply font-mono text-[13px] leading-[1.55];
  }

  .prose pre {
    @apply font-mono text-[13px] leading-[1.55];
  }

  @screen md {
    .prose p {
      @apply leading-[1.7];
    }

    .prose h1 {
      @apply text-[32px];
    }

    .prose h2 {
      @apply text-[26px];
    }

    .prose h3 {
      @apply text-[21px];
    }

    .prose code,
    .prose pre {
      @apply text-[14px];
    }
  }

  @screen lg {
    .prose h1 {
      @apply text-[36px];
    }

    .prose h2 {
      @apply text-[28px];
    }

    .prose h3 {
      @apply text-[22px];
    }
  }

  /* Mobile menu dropdown visibility - only on small screens */
  @media (max-width: 639px) {
    [data-mobile-menu][data-state="closed"] {
      @apply hidden;
    }

    [data-mobile-menu][data-state="open"] {
      @apply block;
    }
  }

  /* Desktop menu always visible */
  @media (min-width: 640px) {
    [data-mobile-menu] {
      @apply block;
    }
  }

  .list-layout {
    @apply flex flex-col gap-10 md:grid md:grid-cols-[minmax(0,_3fr)_minmax(0,_1.2fr)] md:items-start;
  }

  .list-posts {
    @apply flex flex-col gap-6;
  }

  .post-card {
    @apply bg-brand-surface-base;
  }

  .post-card__meta {
    @apply mb-1 items-center;
  }

  .post-card__header {
    @apply mb-2 space-y-1;
  }

  .post-card__date {
    @apply text-[14px] leading-[1.5] text-brand-text-muted;
  }

  .post-card__separator {
    @apply text-[14px] leading-[1.5] text-brand-text-muted;
  }

  .post-card__title {
    @apply text-[24px] font-bold leading-[1.25] text-brand-text-heading mt-0;
  }

  @screen md {
    .post-card__title {
      @apply text-[26px];
    }
  }

  @screen lg {
    .post-card__title {
      @apply text-[28px];
    }
  }

  .post-card__title-link {
    @apply text-brand-text-heading no-underline transition-colors duration-150 hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .post-card__tags {
    @apply items-center text-[14px] font-medium leading-[1.4] text-brand-accent-primary;
  }

  .post-card__tags a {
    @apply min-h-[44px] items-center rounded-full no-underline hover:no-underline focus-visible:no-underline;
  }

  .post-card__tags--empty {
    @apply text-[14px] leading-[1.4] text-brand-text-muted;
  }

  .post-card__excerpt {
    @apply mt-4 text-[16px] leading-[1.65] text-brand-text-primary;
  }

  @screen md {
    .post-card__excerpt {
      @apply leading-[1.7];
    }
  }

  .list-empty {
    @apply rounded-xl border border-dashed border-brand-border-base bg-brand-surface-secondary p-6 text-center text-brand-text-muted;
  }

  .list-sidebar {
    @apply space-y-6 bg-brand-surface-sidebar p-6 text-[14px] font-normal leading-[1.6] text-brand-text-primary shadow-sidebar backdrop-blur;
  }

  .list-sidebar__section {
    @apply space-y-2;
  }

  .list-sidebar__heading {
    @apply text-[13px] font-semibold uppercase tracking-[0.04em] text-brand-text-muted;
  }

  .list-sidebar__figure {
    @apply flex flex-col items-center gap-3 text-center;
  }

  .list-sidebar__photo {
    @apply h-32 w-32 rounded-full border border-brand-border-base object-cover shadow-sm;
  }

  .list-sidebar__name {
    @apply text-[15px] font-semibold leading-[1.4] text-brand-text-heading;
  }

  .list-sidebar__bio {
    @apply text-[14px] leading-[1.6] text-brand-text-primary;
  }

  .list-sidebar__meta {
    @apply text-[13px] leading-[1.5] text-brand-text-muted;
  }

  .tag-directory {
    @apply flex flex-wrap gap-1;
  }

  .tag-directory__item {
    @apply inline-flex items-center gap-2 px-2 py-[3px] text-[13px] font-medium leading-[1.4] text-brand-accent-primary no-underline transition-colors duration-150 hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .tag-directory__count {
    @apply text-xs font-semibold text-brand-text-muted;
  }

  .tag-directory__empty {
    @apply text-sm text-brand-text-muted;
  }

  .pagination-button {
    @apply inline-flex min-h-[44px] items-center justify-center rounded-full border border-brand-border-base bg-brand-surface-base px-4 py-2 text-[14px] font-medium leading-[1.4] text-brand-text-primary transition-colors duration-150 hover:bg-brand-accent-soft hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .pagination-button.is-active {
    @apply border-brand-accent-primary bg-brand-accent-primary text-white hover:border-brand-accent-primary hover:text-white;
  }

  .pagination-button.is-disabled {
    @apply cursor-not-allowed border-brand-border-base bg-brand-surface-secondary text-brand-text-muted hover:border-brand-border-base hover:text-brand-text-muted;
  }

  body.zoom-active {
    @apply overflow-hidden;
  }

  .zoom-overlay {
    @apply fixed inset-0 z-[60] hidden items-center justify-center opacity-0 transition-opacity duration-300 ease-out cursor-pointer;
  }

  .zoom-overlay.is-visible {
    @apply flex opacity-100;
  }

  .zoom-overlay__backdrop {
    @apply absolute inset-0 bg-white/[0.02] backdrop-blur-md pointer-events-none;
  }

  .zoom-overlay__image {
    @apply relative z-10 max-h-[95vh] max-w-[95vw] object-contain pointer-events-none;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-brand-accent-primary px-6 py-3 text-base font-semibold text-white no-underline transition duration-150 hover:bg-brand-accent-hover hover:no-underline hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .about-body {
    @apply max-w-none text-base leading-[1.7] text-brand-text-primary;
  }

  .about-body h2 {
    @apply mt-12 mb-5;
  }

  .about-body p {
    @apply mb-[1.4em] leading-[1.7];
  }

  .about-body p + .about-label {
    @apply mt-12;
  }

  .about-shell {
    @apply mx-auto flex w-full max-w-6xl flex-col gap-12 px-4 lg:flex-row lg:gap-16 md:px-0;
  }

  .about-shell__column {
    @apply flex w-full flex-col gap-6 lg:w-1/2;
  }

  .about-shell__portrait {
    @apply w-full lg:w-1/2;
  }

  .about-label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-text-muted;
  }
}

@layer utilities {
  .header-space {
    @apply pt-24 sm:pt-28;
  }

  .rounded-none {
    border-radius: 0;
  }
}
