@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-canvas-base text-slate-900 font-sans antialiased;
  }

  a {
    @apply text-brand-accent transition-colors duration-200;
  }

  a:hover,
  a:focus-visible {
    @apply text-sky-500;
  }
}

@layer components {
  .skip-link {
    @apply sr-only focus:not-sr-only fixed top-3 left-3 z-50 rounded bg-brand-surface px-4 py-2 text-sm font-medium text-brand-text shadow-lg;
  }

  .prose-about .about-label {
    @apply mb-0 text-xs font-semibold uppercase tracking-widest text-slate-500;
  }

  .prose-about .about-label + h2 {
    @apply mt-0;
  }

  .post-shell {
    @apply mx-auto w-full max-w-4xl px-4;
  }

  .post-shell__header {
    @apply space-y-4;
  }

  .post-shell__eyebrow {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-slate-500;
  }

  .post-shell__title {
    @apply text-4xl font-bold leading-tight tracking-tight text-slate-900 sm:text-5xl;
  }

  .post-meta {
    @apply mt-6 border-b border-slate-200/80 pb-6;
  }

  .post-meta__inner {
    @apply flex flex-col gap-4 text-sm text-slate-600 sm:flex-row sm:items-center sm:justify-between;
  }

  .post-meta__chips {
    @apply flex flex-wrap items-center gap-2;
  }

  .post-meta-chip {
    @apply inline-flex min-h-[34px] items-center gap-2 rounded-full border border-slate-200 bg-white/90 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-700 transition-colors duration-150 hover:border-brand-accent hover:text-brand-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .post-meta-chip--untagged {
    @apply border-dashed border-slate-300 text-slate-500;
  }

  .post-meta__date {
    @apply flex items-center gap-2 text-slate-700;
  }

  /* Mobile menu dropdown visibility - only on small screens */
  @media (max-width: 639px) {
    [data-mobile-menu][data-state="closed"] {
      @apply hidden;
    }

    [data-mobile-menu][data-state="open"] {
      @apply block;
    }
  }

  /* Desktop menu always visible */
  @media (min-width: 640px) {
    [data-mobile-menu] {
      @apply block;
    }
  }

  .list-layout {
    @apply flex flex-col gap-10 md:grid md:grid-cols-[minmax(0,_3fr)_minmax(0,_1.2fr)] md:items-start;
  }

  .list-posts {
    @apply flex flex-col gap-6;
  }

  .post-card {
    @apply rounded-2xl border border-slate-200/80 bg-white/80 p-6 shadow-sm shadow-slate-900/5 backdrop-blur;
  }

  .post-card__header {
    @apply mb-2 space-y-1;
  }

  .post-card__date {
    @apply text-xs uppercase tracking-wide text-slate-500;
  }

  .post-card__title {
    @apply text-xl font-semibold text-slate-900;
  }

  .post-card__title-link {
    @apply transition-colors duration-150 hover:text-brand-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .post-card__tags {
    @apply text-sm font-medium text-slate-600;
  }

  .post-card__tags--empty {
    @apply text-slate-400;
  }

  .post-card__excerpt {
    @apply mt-4 text-base leading-relaxed text-slate-700;
  }

  .list-empty {
    @apply rounded-xl border border-dashed border-slate-300 bg-slate-50/80 p-6 text-center text-slate-600;
  }

  .list-sidebar {
    @apply space-y-10 rounded-2xl border border-slate-100 bg-white/70 p-6 shadow-sm shadow-slate-900/5 backdrop-blur;
  }

  .list-sidebar__section {
    @apply space-y-3;
  }

  .list-sidebar__heading {
    @apply text-sm font-semibold uppercase tracking-wide text-slate-500;
  }

  .list-sidebar__figure {
    @apply flex flex-col items-center gap-3 text-center;
  }

  .list-sidebar__photo {
    @apply h-32 w-32 rounded-full border border-slate-200 object-cover shadow-sm;
  }

  .list-sidebar__name {
    @apply text-base font-semibold text-slate-800;
  }

  .list-sidebar__bio {
    @apply text-sm leading-relaxed text-slate-600;
  }

  .tag-directory {
    @apply flex flex-wrap gap-2;
  }

  .tag-directory__item {
    @apply inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-sm font-medium text-slate-700 transition-colors duration-150 hover:border-brand-accent hover:text-brand-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .tag-directory__count {
    @apply text-xs font-semibold text-slate-400;
  }

  .tag-directory__empty {
    @apply text-sm text-slate-500;
  }

  .pagination-button {
    @apply inline-flex min-h-[44px] items-center justify-center rounded-full border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition-colors duration-150 hover:border-brand-accent hover:text-brand-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .pagination-button.is-active {
    @apply border-slate-900 bg-slate-900 text-white hover:border-slate-900 hover:text-white;
  }

  .pagination-button.is-disabled {
    @apply cursor-not-allowed border-slate-200 bg-slate-100 text-slate-400 hover:border-slate-200 hover:text-slate-400;
  }

  body.zoom-active {
    @apply overflow-hidden;
  }

  .zoom-overlay {
    @apply fixed inset-0 z-[60] hidden items-center justify-center opacity-0 transition-opacity duration-300 ease-out cursor-pointer;
  }

  .zoom-overlay.is-visible {
    @apply flex opacity-100;
  }

  .zoom-overlay__backdrop {
    @apply absolute inset-0 bg-white/[0.02] backdrop-blur-md pointer-events-none;
  }

  .zoom-overlay__image {
    @apply relative z-10 max-h-[95vh] max-w-[95vw] object-contain pointer-events-none;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-slate-900 px-6 py-3 text-base font-semibold text-white transition duration-150 hover:bg-slate-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-900 focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .prose-about {
    @apply prose prose-lg max-w-none text-slate-700;
  }

  .prose-about h2 {
    @apply text-3xl font-semibold text-slate-900;
  }

  .prose-about p {
    @apply text-lg leading-relaxed text-slate-700;
  }

  .about-shell {
    @apply mx-auto flex w-full max-w-6xl flex-col gap-12 px-4 lg:flex-row lg:gap-16;
  }

  .about-shell__column {
    @apply flex w-full flex-col gap-12 lg:w-1/2;
  }

  .about-shell__portrait {
    @apply w-full lg:w-1/2;
  }

  .about-label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-slate-400;
  }
}

@layer utilities {
  .header-space {
    @apply pt-24 sm:pt-28;
  }
}
