@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-brand-surface-base text-brand-text-primary font-sans antialiased;
  }

  a {
    @apply text-brand-accent-primary transition-colors duration-200;
  }

  a:hover,
  a:focus-visible {
    @apply text-brand-accent-hover underline underline-offset-2 decoration-brand-accent-hover;
  }
}

@layer components {
  .skip-link {
    @apply sr-only focus:not-sr-only fixed top-3 left-3 z-50 rounded border border-brand-border-base bg-brand-surface-secondary px-4 py-2 text-sm font-medium text-brand-text-heading shadow-lg;
  }

  .prose-about .about-label {
    @apply mb-0 text-xs font-semibold uppercase tracking-widest text-brand-text-muted;
  }

  .prose-about .about-label + h2 {
    @apply mt-0;
  }

  .post-shell {
    @apply mx-auto w-full max-w-4xl px-4;
  }

  .post-shell__header {
    @apply space-y-4;
  }

  .post-shell__eyebrow {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-text-muted;
  }

  .post-shell__title {
    @apply text-4xl font-bold leading-tight tracking-tight text-brand-text-heading sm:text-5xl;
  }

  .post-meta {
    @apply mt-6 border-b border-brand-border-base pb-6;
  }

  .post-meta__inner {
    @apply flex flex-col gap-4 text-sm text-brand-text-muted sm:flex-row sm:items-center sm:justify-between;
  }

  .post-meta__chips {
    @apply flex flex-wrap items-center gap-2;
  }

  .post-meta-chip {
    @apply inline-flex min-h-[34px] items-center gap-2 rounded-full border border-brand-border-base bg-brand-accent-soft px-3 py-1 text-xs font-semibold uppercase tracking-wide text-brand-accent-primary no-underline transition-colors duration-150 hover:border-brand-accent-primary hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .post-meta-chip--untagged {
    @apply border-dashed border-brand-border-base text-brand-text-muted;
  }

  .post-meta__date {
    @apply flex items-center gap-2 text-brand-text-muted;
  }

  /* Mobile menu dropdown visibility - only on small screens */
  @media (max-width: 639px) {
    [data-mobile-menu][data-state="closed"] {
      @apply hidden;
    }

    [data-mobile-menu][data-state="open"] {
      @apply block;
    }
  }

  /* Desktop menu always visible */
  @media (min-width: 640px) {
    [data-mobile-menu] {
      @apply block;
    }
  }

  .list-layout {
    @apply flex flex-col gap-10 md:grid md:grid-cols-[minmax(0,_3fr)_minmax(0,_1.2fr)] md:items-start;
  }

  .list-posts {
    @apply flex flex-col gap-6;
  }

  .post-card {
    @apply bg-brand-surface-base;
  }

  .post-card__meta {
    @apply mb-1 flex flex-wrap items-center gap-x-2 gap-y-1;
  }

  .post-card__header {
    @apply mb-2 space-y-1;
  }

  .post-card__date {
    @apply text-xs uppercase tracking-wide text-brand-text-muted;
  }

  .post-card__separator {
    @apply text-xs uppercase tracking-wide text-brand-text-muted;
  }

  .post-card__title {
    @apply text-xl font-semibold text-brand-text-heading;
  }

  .post-card__title-link {
    @apply text-brand-text-heading no-underline transition-colors duration-150 hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .post-card__tags {
    @apply text-sm font-medium text-brand-accent-primary;
  }

  .post-card__tags a {
    @apply no-underline hover:no-underline focus-visible:no-underline;
  }

  .post-card__tags--empty {
    @apply text-brand-text-muted;
  }

  .post-card__excerpt {
    @apply mt-4 text-base leading-relaxed text-brand-text-primary;
  }

  .list-empty {
    @apply rounded-xl border border-dashed border-brand-border-base bg-brand-surface-secondary p-6 text-center text-brand-text-muted;
  }

  .list-sidebar {
    @apply space-y-10 bg-brand-surface-sidebar p-6 shadow-sidebar backdrop-blur;
  }

  .list-sidebar__section {
    @apply space-y-3;
  }

  .list-sidebar__heading {
    @apply text-sm font-semibold uppercase tracking-wide text-brand-text-muted;
  }

  .list-sidebar__figure {
    @apply flex flex-col items-center gap-3 text-center;
  }

  .list-sidebar__photo {
    @apply h-32 w-32 rounded-full border border-brand-border-base object-cover shadow-sm;
  }

  .list-sidebar__name {
    @apply text-base font-semibold text-brand-text-heading;
  }

  .list-sidebar__bio {
    @apply text-sm leading-relaxed text-brand-text-muted;
  }

  .tag-directory {
    @apply flex flex-wrap gap-1;
  }

  .tag-directory__item {
    @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm font-medium text-brand-accent-primary no-underline transition-colors duration-150 hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .tag-directory__count {
    @apply text-xs font-semibold text-brand-text-muted;
  }

  .tag-directory__empty {
    @apply text-sm text-brand-text-muted;
  }

  .pagination-button {
    @apply inline-flex min-h-[44px] items-center justify-center rounded-full border border-brand-border-base bg-brand-surface-base px-4 py-2 text-sm font-semibold text-brand-text-primary transition-colors duration-150 hover:bg-brand-accent-soft hover:text-brand-accent-hover hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .pagination-button.is-active {
    @apply border-brand-accent-primary bg-brand-accent-primary text-white hover:border-brand-accent-primary hover:text-white;
  }

  .pagination-button.is-disabled {
    @apply cursor-not-allowed border-brand-border-base bg-brand-surface-secondary text-brand-text-muted hover:border-brand-border-base hover:text-brand-text-muted;
  }

  body.zoom-active {
    @apply overflow-hidden;
  }

  .zoom-overlay {
    @apply fixed inset-0 z-[60] hidden items-center justify-center opacity-0 transition-opacity duration-300 ease-out cursor-pointer;
  }

  .zoom-overlay.is-visible {
    @apply flex opacity-100;
  }

  .zoom-overlay__backdrop {
    @apply absolute inset-0 bg-white/[0.02] backdrop-blur-md pointer-events-none;
  }

  .zoom-overlay__image {
    @apply relative z-10 max-h-[95vh] max-w-[95vw] object-contain pointer-events-none;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-md bg-brand-accent-primary px-6 py-3 text-base font-semibold text-white no-underline transition duration-150 hover:bg-brand-accent-hover hover:no-underline hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent-primary focus-visible:ring-offset-2 focus-visible:ring-offset-brand-surface-base;
  }

  .prose-about {
    @apply prose prose-lg max-w-none text-brand-text-primary;
  }

  .prose-about h2 {
    @apply text-3xl font-semibold text-brand-text-heading;
  }

  .prose-about p {
    @apply text-lg leading-relaxed text-brand-text-primary;
  }

  .about-shell {
    @apply mx-auto flex w-full max-w-6xl flex-col gap-12 px-4 lg:flex-row lg:gap-16;
  }

  .about-shell__column {
    @apply flex w-full flex-col gap-12 lg:w-1/2;
  }

  .about-shell__portrait {
    @apply w-full lg:w-1/2;
  }

  .about-label {
    @apply text-xs font-semibold uppercase tracking-[0.3em] text-brand-text-muted;
  }
}

@layer utilities {
  .header-space {
    @apply pt-24 sm:pt-28;
  }
}
